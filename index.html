<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acibadem Office Map</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh; }
        .header { padding: 10px 20px; background-color: #f8f8f8; border-bottom: 1px solid #ddd; z-index: 1000; }
        .header h1 { margin: 0; font-size: 1.5em; }
        .filter-container { margin-top: 10px; }
        label { font-weight: bold; margin-right: 10px; }
        select { padding: 5px; font-size: 1em; }
        #map { flex-grow: 1; border-top: 1px solid #ccc; background-color: #f0f0f0; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Company Office Locations</h1>
        <div class="filter-container">
            <label for="country-filter">Filter by Country:</label>
            <select id="country-filter"></select>
        </div>
    </div>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    
    <script>
        // 1. TAM OFİS LİSTESİ
        const officeList = [
            {"name":"Acibadem Information Office Algiers","country":"Algiers","phone":"+213(0) 661 89 80 69"},
            {"name":"Acibadem Information Office Wien","country":"Austria","phone":"+43 1 522 62 77"},
            {"name":"Acibadem Information Office Tirane","country":"Albania","phone":"+355 69 56 29 686"},
            {"name":"Acibadem Information Office Baku","country":"Azerbaijan","phone":"+994 12 595 96 81"},
            {"name":"Acibadem Information Office Gence","country":"Azerbaijan","phone":"+994 22 255 07 06"},
            {"name":"Acıbadem Information Office Brussels","country":"Belgium","phone":"+32 471 90 60 12"},
            {"name":"Acibadem Information Office Sarajevo","country":"Bosnia and Herzegovina","phone":"+387 332 230 13"},
            {"name":"Acibadem Information Office Tuzla","country":"Bosnia and Herzegovina","phone":"+387 354 812 75"},
            {"name":"Acibadem Information Office Burgas","country":"Bulgaria","phone":"+359 877 9 59040"},
            {"name":"Acibadem Information Office Sofia","country":"Bulgaria","phone":"+359 28511228"},
            {"name":"Acibadem Information Office - Plovdiv","country":"Bulgaria","phone":"+359 (32) 207 666"},
            {"name":"Acibadem Information Office - Plovdiv #2","country":"Bulgaria","phone":"+359 326 601 92"},
            {"name":"Acıbadem Information Office Abidjan","country":"Cote d'Ivoire","phone":"+225 0710011105"},
            {"name":"Acıbadem Information Office Rijeka","country":"Croatia","phone":"+385 51 565 264"},
            {"name":"Acıbadem Information Office Zagreb","country":"Croatia","phone":"+385 1 4242 430"},
            {"name":"Information Office Paris","country":"France","phone":"+33 9 53 22 88 89"},
            {"name":"Acibadem Information Office Tbilisi","country":"Georgia","phone":"+995 322 158 500"},
            {"name":"Acibadem Information Office Kutaisi","country":"Georgia","phone":"+995 431 258 500"},
            {"name":"Acibadem Information Office Batumi","country":"Georgia","phone":"+995 422 22 30 00"},
            {"name":"Acıbadem Information Office Dusseldorf","country":"Germany","phone":"+49 157 365 635 04"},
            {"name":"Acıbadem Information Office Berlin","country":"Germany","phone":"+49 157 833 433 07"},
            {"name":"Acibadem Information Office Dohuk","country":"Iraq","phone":"+964 750 827 8668"},
            {"name":"Acibadem Information Office Erbil","country":"Iraq","phone":"+964 751 523 64 07"},
            {"name":"Acibadem Information Office Tabriz","country":"Iran","phone":"+98 413 327 4484"},
            {"name":"Acibadem Information Office Almaty","country":"Kazakhstan","phone":"+7 778 638 22 00"},
            {"name":"Acibadem Information Office Shymkent","country":"Kazakhstan","phone":"+7 70 15 505 944"},
            {"name":"Acibadem Information Office Bishkek/Osh","country":"Kyrgyzstan","phone":"+996 702 000 252"},
            {"name":"Acibadem Information Office Prishtine","country":"Kosovo","phone":"+383 382 340 04"},
            {"name":"Acibadem Information Office Sistina Hospital","country":"North Macedonia","phone":"+389 23099599"},
            {"name":"Official Representative - Eman Khalaf","country":"Kuwait","phone":"+965 9933 6005"},
            {"name":"Acibadem Information Office Chisinau","country":"Moldova","phone":"+373 6 0999 144"},
            {"name":"Acibadem Information Office Podgorica","country":"Montenegro","phone":"+382 688 804 06"},
            {"name":"Acibadem Information Office Casablanca","country":"Morocco","phone":"+212 643-585598"},
            {"name":"Acibadem Information Office Bucharest","country":"Romania","phone":"+40 730 519 254"},
            {"name":"Acibadem Information Office Iaşi","country":"Romania","phone":"+40 739 883 640"},
            {"name":"Acibadem Information Office Cluj Napoca","country":"Romania","phone":"+40 264 701 754"},
            {"name":"Acibadem Information Office Constanta","country":"Romania","phone":"+40 241 660 888"},
            {"name":"Acibadem Information Office Timisoara","country":"Romania","phone":"+40 356 401 089"},
            {"name":"Acibadem Information Office Moscow","country":"Russia","phone":"+7 495 135 82 80"},
            {"name":"Acibadem Information Office Grozny","country":"Russia","phone":"+7 929 890 50 56"},
            {"name":"Acibadem Information Office Kazan","country":"Russia","phone":"+7 (906) 111-19-10"},
            {"name":"Acibadem Information Office Belgrad","country":"Serbia","phone":"+381 62 820 8151"},
            {"name":"Acibadem Information Office Nis","country":"Serbia","phone":"+381 60 33 99 315"},
            {"name":"Acibadem Information Office Novi Sad","country":"Serbia","phone":"+381 21 270 53 13"},
            {"name":"Acibadem Information Office Madrid","country":"Spain","phone":"+34 673 04 23 43"},
            {"name":"Acibadem Information Office Barcelona","country":"Spain","phone":"+34 930 256872"},
            {"name":"Acibadem Information Office Uganda","country":"Uganda","phone":"+237 697 592 650"},
            {"name":"Acibadem Information Office London","country":"United Kingdom","phone":"+44 207 323 6665"},
            {"name":"Acibadem Information Office Kiev","country":"Ukraine","phone":"+380 93 955 48 40"},
            {"name":"Acibadem Information Office Lviv","country":"Ukraine","phone":"+380 322 61 09 09"},
            {"name":"Acibadem Information Office Bukhara","country":"Uzbekistan","phone":"+998 553154 44"},
            {"name":"Acibadem Information Office Tashkent","country":"Uzbekistan","phone":"+998 951 445 445"},
            {"name":"Acibadem Information Office Samarkand","country":"Uzbekistan","phone":"+998 66 234 41 71"},
            {"name":"Acibadem Information Office Dushanbe","country":"Tajikistan","phone":"+992 (44) 650-1717"},
            {"name":"Acibadem Information Office Yaounde/Cameroon","country":"Cameroon","phone":"+237 67 454 5888"},
        ];

        function getCityCoordinates(name, country) {
            const cityCoordinates = { 'algiers':{lat:36.775,lng:3.06},'wien':{lat:48.208,lng:16.373},'tirane':{lat:41.327,lng:19.818},'baku':{lat:40.409,lng:49.867},'gence':{lat:40.682,lng:46.36},'brussels':{lat:50.85,lng:4.351},'sarajevo':{lat:43.856,lng:18.413},'tuzla':{lat:44.538,lng:18.675},'burgas':{lat:42.495,lng:27.471},'sofia':{lat:42.697,lng:23.321},'plovdiv':{lat:42.135,lng:24.745},'abidjan':{lat:5.36,lng:-4.008},'rijeka':{lat:45.327,lng:14.442},'zagreb':{lat:45.815,lng:15.981},'paris':{lat:48.856,lng:2.352},'tbilisi':{lat:41.715,lng:44.783},'kutaisi':{lat:42.251,lng:42.702},'batumi':{lat:41.642,lng:41.633},'dusseldorf':{lat:51.227,lng:6.773},'berlin':{lat:52.52,lng:13.405},'dohuk':{lat:36.864,lng:42.986},'erbil':{lat:36.191,lng:44.009},'tabriz':{lat:38.079,lng:46.289},'almaty':{lat:43.222,lng:76.851},'shymkent':{lat:42.321,lng:69.591},'bishkek':{lat:42.874,lng:74.569},'prishtine':{lat:42.662,lng:21.165},'sistina hospital':{lat:42.004,lng:21.409},'kuwait':{lat:29.375,lng:47.977},'chisinau':{lat:47.01,lng:28.863},'podgorica':{lat:42.43,lng:19.259},'casablanca':{lat:33.573,lng:-7.589},'bucharest':{lat:44.426,lng:26.102},'iaşi':{lat:47.158,lng:27.601},'cluj napoca':{lat:46.771,lng:23.623},'constanta':{lat:44.182,lng:28.634},'timisoara':{lat:45.748,lng:21.208},'moscow':{lat:55.755,lng:37.617},'grozny':{lat:43.316,lng:45.698},'kazan':{lat:55.796,lng:49.106},'belgrad':{lat:44.786,lng:20.448},'nis':{lat:43.32,lng:21.895},'novi sad':{lat:45.267,lng:19.833},'madrid':{lat:40.416,lng:-3.703},'barcelona':{lat:41.385,lng:2.173},'uganda':{lat:1.373,lng:32.29},'london':{lat:51.507,lng:-0.127},'kiev':{lat:50.45,lng:30.523},'lviv':{lat:49.839,lng:24.029},'bukhara':{lat:39.768,lng:64.455},'tashkent':{lat:41.299,lng:69.24},'samarkand':{lat:39.654,lng:66.975},'dushanbe':{lat:38.559,lng:68.787},'yaounde':{lat:3.848,lng:11.502} };
            const lowerCaseName = name.toLowerCase();
            for (const city in cityCoordinates) { if (lowerCaseName.includes(city)) return cityCoordinates[city]; }
            if (country.toLowerCase() === 'kuwait') return cityCoordinates['kuwait'];
            return { lat: null, lng: null };
        }
        
        const offices = officeList.map(office => ({...office, ...getCityCoordinates(office.name, office.country) }));
        
        const map = L.map('map').setView([47, 15], 4);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            maxZoom: 19,
            attribution: '&copy; OpenStreetMap &copy; CARTO'
        }).addTo(map);
        
        const customIcon = L.icon({
            iconUrl: 'https://www.acibadem.com.tr/assets/images/acibadem-saglik-grubu-76x76.png',
            iconSize: [38, 38], iconAnchor: [19, 38], popupAnchor: [0, -38]
        });
        
        const markers = L.markerClusterGroup();
        
        function displayMarkers(filteredOffices) {
            markers.clearLayers();
            const officesWithCoords = filteredOffices.filter(o => o.lat && o.lng);
            
            officesWithCoords.forEach(office => {
                const marker = L.marker([office.lat, office.lng], { icon: customIcon });
                marker.bindPopup(`<b>${office.name}</b><br>Country: ${office.country}<br>Phone: ${office.phone}`);
                markers.addLayer(marker);
            });
            
            map.addLayer(markers);
            
            if (filteredOffices.length > 0 && filteredOffices.length < offices.length) {
                map.fitBounds(markers.getBounds(), { padding: [50, 50] });
            }
        }
        
        const countryFilter = document.getElementById('country-filter');
        const countries = ['All Countries', ...new Set(offices.map(o => o.country))].sort();
        countries.forEach(country => {
            const option = document.createElement('option');
            option.value = country;
            option.textContent = country;
            countryFilter.appendChild(option);
        });
        
        countryFilter.addEventListener('change', (e) => {
            const selected = e.target.value;
            const filtered = selected === 'All Countries' ? offices : offices.filter(o => o.country === selected);
            displayMarkers(filtered);
        });
        
        displayMarkers(offices);
    </script>
</body>
</html>